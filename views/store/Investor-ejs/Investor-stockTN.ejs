<%- include('../../partials/head') %>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 min-h-screen text-white">
  <%- include('../../partials/Investor-nav') %>

  <div class="container mx-auto py-10 px-4">

    <!-- Stock Transaction Table -->
    <div class="bg-slate-800 p-6 rounded-2xl shadow-lg max-w-4xl mx-auto mt-12">
    <h2 class="text-3xl font-bold mb-6 text-center tracking-wide">ðŸ“Š Your Stock Transactions</h2>

      <table class="w-full table-auto border-collapse overflow-hidden rounded-xl">
        <thead>
          <tr class="bg-slate-700 text-slate-300 text-lg">
            <th class="px-6 py-3 border-b border-slate-600 text-left">Transaction ID</th>
            <th class="px-6 py-3 border-b border-slate-600 text-left">Timestamp</th>
            <th class="px-6 py-3 border-b border-slate-600 text-left">Amount</th>
            <th class="px-6 py-3 border-b border-slate-600 text-left">Stock ID</th>
            <th class="px-6 py-3 border-b border-slate-600 text-left">Investor ID</th>
            <th class="px-6 py-3 border-b border-slate-600 text-left">Registration Number</th>
          </tr>
        </thead>

        <tbody class="text-slate-300">
          <% if (transactionList && transactionList.length > 0) { %>
            <% transactionList.forEach(tx => { %>
              <tr class="hover:bg-slate-700 transition">
                <td class="px-6 py-3 border-b border-slate-700"><%= tx.transactionId || tx.tid || '' %></td>
                <td class="px-6 py-3 border-b border-slate-700 text-sm text-slate-400"><%= tx.timestamp %></td>
                <td class="px-6 py-3 border-b border-slate-700 font-semibold text-blue-400">$<%= tx.amount %></td>
                <td class="px-6 py-3 border-b border-slate-700"><%= tx.stockId %></td>
                <td class="px-6 py-3 border-b border-slate-700"><%= tx.iUserId || tx.investorId || '' %></td>
                <td class="px-6 py-3 border-b border-slate-700"><%= tx.registrationNumber || '' %></td>
              </tr>
            <% }) %>
          <% } else { %>
            <tr>
              <td colspan="6" class="px-6 py-6 text-center text-slate-400">
                No transactions found.
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
