<%- include('../../partials/head') %>
</head>
<body class="bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 min-h-screen text-white">

<%- include('../../partials/manager-nav') %>

<main>
  <div class="max-w-3xl mx-auto mt-10 p-6 bg-slate-800 rounded-xl shadow-lg">
    <h1 class="text-2xl font-semibold mb-6">Profile Information</h1>
    
    <form id="profileForm" class="space-y-4" method="POST" action="/manager/profile-info/update">
      <!-- Name -->
      <div>
        <label for="name" class="block text-sm font-medium mb-1">Name</label>
        <input type="text" id="name" name="name" 
               value="<%= ProfileInfo.name || '' %>" 
               class="w-full p-2 rounded-md bg-slate-700 border border-slate-600 text-white" 
               disabled>
      </div>

      <!-- Role -->
      <div>
        <label for="role" class="block text-sm font-medium mb-1">Role</label>
        <input type="text" id="role" name="role" 
               value="<%= ProfileInfo.role || 'Manager' %>" 
               class="w-full p-2 rounded-md bg-slate-700 border border-slate-600 text-white" 
               disabled>
      </div>

      <!-- Phone -->
      <div>
        <label for="phone" class="block text-sm font-medium mb-1">Phone</label>
        <input type="text" id="phone" name="phone" 
               value="<%= ProfileInfo.phone || '' %>" 
               class="w-full p-2 rounded-md bg-slate-700 border border-slate-600 text-white" 
               disabled>
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-medium mb-1">Email</label>
        <input type="email" id="email" name="email" 
               value="<%= ProfileInfo.email || '' %>" 
               class="w-full p-2 rounded-md bg-slate-700 border border-slate-600 text-white" 
               disabled>
      </div>

      <!-- Buttons -->
      <div class="flex space-x-4 mt-6">
        <button type="button" id="editBtn" 
                class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors">
          Edit
        </button>
        <button type="submit" id="saveBtn" 
                class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md transition-colors hidden">
          Save
        </button>
        <button type="button" id="cancelBtn" 
                class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md transition-colors hidden">
          Cancel
        </button>
      </div>
    </form>
  </div>
</main>

<script>
  const editBtn = document.getElementById('editBtn');
  const saveBtn = document.getElementById('saveBtn');
  const cancelBtn = document.getElementById('cancelBtn');
  const inputs = document.querySelectorAll('#profileForm input');

  editBtn.addEventListener('click', () => {
    inputs.forEach(input => input.disabled = false);
    editBtn.classList.add('hidden');
    saveBtn.classList.remove('hidden');
    cancelBtn.classList.remove('hidden');
  });

  cancelBtn.addEventListener('click', () => {
    inputs.forEach(input => input.disabled = true);
    inputs.forEach(input => input.value = input.defaultValue);
    editBtn.classList.remove('hidden');
    saveBtn.classList.add('hidden');
    cancelBtn.classList.add('hidden');
  });
</script>

</body>
</html>
